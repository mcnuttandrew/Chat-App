<html>
  <head>
    <title>Chat App</title>
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="./javascripts/chat.js"></script>
    <script src="./javascripts/chat_ui.js"></script>
    <script>
      var socket = io('http://localhost');
      
      $(function () {
        var chatUI = new ChatUI($('#message'), $('#messages'));

        socket.on('message', function (data) {
          chatUI.recvMessage(data.text);
        });        

        $('form').on('submit', function (event) {
          event.preventDefault();

          var message = chatUI.getMessage();
          chatUI.sendMessage(message);
        });
      });
    </script>
  </head>

  <body>
    <form>
      <label for="message">Message</label>
      <input id="message" type="text">
      <button>Send</button>
    </form>

    <ul id="messages"></ul>
  </body>
</html>